## üìù Task Description (English)

### Task

Using **MS SQL**, create a database with **two related tables**: `Orders` and `Products`.
You may decide on the fields for each table yourself.

Using **ASP.Net Web API** (link provided), implement a **web service** working with **OData** or **REST** protocol.

The web service should implement **CRUD operations** for managing data in the `Orders` and `Products` tables of the database.

Additionally, implement the ability to **retrieve information about an order along with the products included in that order in a single request**.

Along with your source code, include a **test file describing your solution**.

---

### Solution

1. **Database creation:**

   * A database named `VMDataBase` was created.
   * Backup file: `VMDataBase.bak` in the database folder.
   * SQL files are included to create **4 tables**, **4 views**, and **2 triggers**.

2. **Triggers:**

   * `TriggerDelete` (for the `Orders` table) executes when an order is deleted.

     * Automatically deletes all products contained in that order from the `OrdersProducts` table.
   * `InsertTrigger` (for the `Orders` table) executes when a new order is created.

     * Automatically creates a zero-value entry in `OrdersProducts`.
     * This helps avoid searching for the newly created order ID.
     * The zero-value entry can be edited or deleted later.
     * Deleting the order from `Orders` does not delete the zero-value product entry.

3. **Views:**
   Views were created for convenience:

   * `FinalOrders` is displayed on the HTML page **‚ÄúOrders‚Äù**.
   * `OrderCustomers` is displayed on the order creation page.

4. **Web Service:**

   * Implemented using **ASP.Net Core Web API**.
   * ZIP file: `TodoApi`.
   * Documentation reference: [ASP.Net Core Web API tutorial](https://docs.microsoft.com/en-us/aspnet/core/tutorials/first-web-api?view=aspnetcore-5.0&tabs=visual-studio)
   * The web service implements full **CRUD operations**.

     * Can be tested via **Postman**.
     * Additionally, HTML pages were created for convenient testing in a browser.

5. **Retrieving order with products in one request:**

   * Implemented using multiple **views**:

     * `FullOrder` displays the `OrdersProducts` table with product IDs replaced by product names.
     * `FullOrderCompact` combines products from `FullOrder` into a single row.
     * `FinalOrders` combines `FullOrder` and `OrderCustomers` views: replaces customer IDs with their full names (using `Orders` and `Customers` tables).

       * This final view is used to display information on the **‚ÄúOrders‚Äù** page.

---

–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º:

–ó–∞–¥–∞–Ω–∏–µ:
–ò—Å–ø–æ–ª—å–∑—É—è MS SQL, —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –¥–≤—É–º—è —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –ó–∞–∫–∞–∑—ã (Orders) –∏ –¢–æ–≤–∞—Ä—ã (Products). –ò–∑ –∫–∞–∫–∏—Ö –ø–æ–ª–µ–π –±—É–¥—É—Ç —Å–æ—Å—Ç–æ—è—Ç—å —Ç–∞–±–ª–∏—Ü—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.
–ò—Å–ø–æ–ª—å–∑—É—è ASP.Net Web API (—Å—Å—ã–ª–∫–∞ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∞), —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–µ–±-—Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É Odata –∏–ª–∏ REST.
–í–µ–±-—Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö –ó–∞–∫–∞–∑—ã (Orders) –∏ –¢–æ–≤–∞—Ä—ã (Products) –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
–†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ –∏ —Ç–æ–≤–∞—Ä–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤—Ö–æ–¥—è—Ç –≤ —ç—Ç–æ—Ç –∑–∞–∫–∞–∑.
–ö —Ä–µ—à–µ–Ω–∏—é, –ø–æ–º–∏–º–æ –∏—Å—Ö–æ–¥–Ω—ã—Ö –∫–æ–¥–æ–≤, –ø—Ä–∏–ª–æ–∂–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π-—Ñ–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–µ—à–µ–Ω–∏—è.

–†–µ—à–µ–Ω–∏–µ:
1. –ë—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –ë–î –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º VMDataBase. –§–∞–π–ª –±—ç–∫–∞–ø–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö VMDataBase.bak –≤ –ø–∞–ø–∫–µ –ë–î. –¢–∞–∫–∂–µ –≤ –ø–∞–ø–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω—ã sql —Ñ–∞–π–ª—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ 4 —Ç–∞–±–ª–∏—Ü, 4 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ 2 —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤.
2. –¢—Ä–∏–≥–≥–µ—Ä TriggerDelete (–¥–ª—è —Ç–∞–±–ª–∏—Ü—ã Orders) —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã Orders. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Ç–æ–≤–∞—Ä—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ–π—Å—è –≤ –¥–∞–Ω–Ω–æ–º –∑–∞–∫–∞–∑–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã OrdersProducts.
3. –¢—Ä–∏–≥–≥–µ—Ä InsertTrigger (–¥–ª—è —Ç–∞–±–ª–∏—Ü—ã Orders) —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–∫–∞–∑ –≤ —Ç–∞–±–ª–∏—Ü–µ Orders. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ OrdersProducts. –°–¥–µ–ª–∞–Ω –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞, —á—Ç–æ–±—ã –Ω–µ –∏—Å–∫–∞—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞. 
–ù—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ OrdersProducts –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å. –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å–∞–º –∑–∞–∫–∞–∑ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã Orders –Ω–µ —É–¥–∞–ª–∏—Ç—Å—è.
4. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–¥–µ–ª–∞–Ω—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞. –¢–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ FinalOrders –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ html —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–ó–∞–∫–∞–∑—ã", –∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ OrderCustomers - –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞.
5. –î–∞–ª–µ–µ –±—ã–ª —Å–æ–¥–∞–Ω –≤–µ–±-—Å–µ—Ä–≤–∏—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ ASP.Net Core Web API. ZIP —Ñ–∞–π–ª TodoApi. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é https://docs.microsoft.com/ru-ru/aspnet/core/tutorials/first-web-api?view=aspnetcore-5.0&tabs=visual-studio
6. –í–µ–±-—Å–µ—Ä–≤–∏—Å —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ CRUD. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ Postman, –Ω–æ —Ç–∞–∫–∂–µ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã html —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
7. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–∫–∞–∑–µ –∏ —Ç–æ–≤–∞—Ä–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤—Ö–æ–¥—è—Ç –≤ —ç—Ç–æ—Ç –∑–∞–∫–∞–∑, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ FullOrder –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É OrdersProducts —Å 
–∑–∞–º–µ–Ω–æ–π id –¢–æ–≤–∞—Ä–æ–≤ –Ω–∞ –∏—Ö –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ FullOrderCompact –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä—ã –∏–∑ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è FullOrder –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ FinalOrders —Å–æ–≤–º–µ—â–∞–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è FullOrder –∏ OrderCustomers (–¥–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ 
–∑–∞–º–µ–Ω—è–µ—Ç id –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –µ–≥–æ –§–ò–û, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–∞–±–ª–∏—Ü—ã Orders –∏ Customers), —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–ó–∞–∫–∞–∑—ã".
